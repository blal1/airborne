# Robin DR-400/140B Major Configuration
# Popular 4-seat touring variant with Lycoming O-320 engine (160 HP)
# Very common in French aero-clubs

_base: dr400_base.yaml

aircraft:
  name: "Robin DR-400/140B Major"
  icao_code: "DR40"

  flight_model_config:
    weight_lbs: 1499.0          # 680 kg empty weight
    max_thrust_lbs: 160.0

  # Engine - Lycoming O-320-D2A
  plugins:
    - plugin: "simple_piston_engine"
      instance_id: "engine"
      config:
        max_power_hp: 160
        max_rpm: 2700
        idle_rpm: 550
        fuel_consumption_base_gph: 8.5
        displacement_liters: 5.24
        cylinders: 4
        aspiration: "naturally_aspirated"
        starter_min_voltage: 11.0
        starter_current_draw: 130.0
        requires_fuel: true
        requires_magnetos: true

    - plugin: "simple_electrical_system"
      instance_id: "electrical"
      config:
        battery_voltage: 12.6
        battery_capacity_ah: 25.0
        alternator_voltage: 14.0
        alternator_amps: 50.0
        base_load_amps: 4.5

    - plugin: "simple_fuel_system"
      instance_id: "fuel"
      config:
        left_tank_capacity: 14.5    # 55L per side
        right_tank_capacity: 14.5
        unusable_fuel: 0.5
        fuel_selector: "both"

  # Fuel tanks - slightly larger
  fuel:
    tanks:
      left:
        capacity_total: 14.5
        capacity_usable: 14.0
        initial_quantity: 14.0
      right:
        capacity_total: 14.5
        capacity_usable: 14.0
        initial_quantity: 14.0

  # Weight and balance - 4-seater
  weight_balance:
    empty_weight: 1499.0        # 680 kg
    empty_moment: 59200.0
    max_gross_weight: 2205.0    # 1000 kg MTOW
    cg_limits:
      forward: 38.0
      aft: 47.0
    stations:
      fuel:
        - name: "fuel_main"
          arm: 42.0
          max_weight: 174.0     # 110L total
          initial_weight: 168.0
      seats:
        - name: "seat_pilot"
          arm: 40.0
          max_weight: 200.0
          initial_weight: 170.0
        - name: "seat_copilot"
          arm: 40.0
          max_weight: 200.0
          initial_weight: 0.0
        - name: "seat_rear_left"
          arm: 72.0
          max_weight: 180.0
          initial_weight: 0.0
        - name: "seat_rear_right"
          arm: 72.0
          max_weight: 180.0
          initial_weight: 0.0
      cargo:
        - name: "baggage"
          arm: 95.0
          max_weight: 88.0      # 40 kg max
          initial_weight: 0.0

  # Performance - DR-400/140B
  performance:
    reference_weight_lbs: 2205.0
    wing_area_sqft: 146.4
    max_power_hp: 160.0
    cl_max_clean: 1.55
    cl_max_landing: 2.0
    vspeeds_reference:
      V_S: 53                   # 98 km/h stall clean
      V_SO: 47                  # 87 km/h stall landing
      V_R: 59                   # 110 km/h rotation
      V_X: 65                   # 120 km/h best angle
      V_Y: 76                   # 140 km/h best rate
    takeoff_reference:
      ground_roll_ft: 984       # 300m
      distance_50ft: 1640       # 500m
      climb_rate_fpm: 690       # 3.5 m/s
    cruise:
      speed_kts: 124            # 230 km/h at 75%
      fuel_gph: 8.5

  # Checklists reference
  checklists:
    en: "dr400_140"
    fr: "dr400_140_fr"
